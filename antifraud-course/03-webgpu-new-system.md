# 03. WebGPU - новая система

**Автор:** Вектор Т13
**Длительность:** ~18 минут
**Уровень:** Средний
**Тип урока:** Технический анализ WebGPU fingerprinting

---

## Краткое содержание

WebGL устарел и больше не развивается (заявление Khronos Group, 2023). На смену приходит WebGPU - технология с полным доступом к ресурсам видеокарты. Урок объясняет, как антифрод-системы реально используют WebGPU (спойлер: через бенчмарки производительности, а не через проверку наличия).

---

## Ключевые тезисы

### 1. WebGL vs WebGPU

| Характеристика | WebGL | WebGPU |
|----------------|-------|--------|
| Статус | Deprecated (2023) | Экспериментальный |
| Разработчик | Khronos Group | W3C |
| Требования | DirectX 11 | DirectX 12 |
| Доступ к GPU | Ограниченный | Полный |
| Точность fingerprint | Низкая | Высокая |

### 2. Что можно определить через WebGPU

- Производитель видеокарты (Nvidia, AMD, Intel)
- Архитектура GPU
- Реальная производительность
- Использование VPS/VDS
- Использование антидетектов
- Подмена видеокарты

### 3. Главный вывод

**Простая проверка наличия WebGPU - бесполезна. Реальная проверка = бенчмарк производительности.**

---

## Полный конспект

### WebGL - конец эпохи

Khronos Group (создатели WebGL) заявили в 2023 году:
- WebGL больше не будет развиваться
- Технология устарела архитектурно
- 10+ лет существования

### WebGPU - новая эра

#### Возможности
- Полный доступ к ресурсам видеокарты
- Игры уровня Steam прямо в браузере
- Высокопроизводительные вычисления

#### Риски
- Майнинг через веб-страницы (известно с 2013 года)
- Вредоносный код
- DirectX-инъекции

### Что показывает Chrome

В современных версиях Chrome (138+):
- Производитель видеокарты (Nvidia/AMD/Intel)
- Архитектура
- **Модель НЕ показывается** (было раньше)

```javascript
// JSON Dump показывает только:
{
  "vendor": "nvidia",
  "architecture": "ampere"
  // device - пустой!
}
```

### Ложный детект виртуальных машин

#### Как делает fingerprint.com (НЕПРАВИЛЬНО)

Проверяют: "Поддерживается ли WebGPU?"
- Нет WebGPU = виртуальная машина

**Почему это идиотизм:**
1. Старые видеокарты без DirectX 12 = нет WebGPU
2. Можно включить WebGPU через chrome://flags
3. Можно эмулировать через реестр Windows

#### Обход детекта

```
chrome://flags -> WebGPU -> Enabled
```

или

```
Реестр Windows -> Свойства видеокарты -> WDDM 2.3+
```

### Fingerprint.com - ханипот

> "Никто в здравом уме не посещает fingerprint.com просто так. Это ханипот для сбора данных."

Кто посещает:
- Люди проверяющие анонимность
- Пользователи антидетектов
- Мультиаккаунтеры

**Вывод:** Не ходите на fingerprint.com

### Реальный детект: WebGPU Benchmark

Антифрод-системы используют **бенчмарк производительности**, а не проверку наличия.

#### Как работает

1. Запускается WebGPU тест (рендеринг N элементов)
2. Измеряется реальная производительность
3. Сравнивается с заявленной видеокартой

#### Что можно определить

| Сценарий | Результат теста |
|----------|-----------------|
| RTX 4090 заявлена, Intel HD реально | Низкие показатели = детект |
| VPS без видеокарты | Провал теста |
| Антидетект с подменой GPU | Несоответствие производительности |
| Удалённый сервер | Аномально низкие FPS |

### Точность WebGPU vs WebGL

| Тест | Результат |
|------|-----------|
| WebGL FPS | 136-138 для RTX 1080/2080/3080 (неотличимо) |
| WebGPU Benchmark | Чёткое различие поколений видеокарт |

**WebGPU определяет поколение видеокарты** (1000/2000/3000/4000 серии)

### Практический эксперимент

Тестирование на сайте webgpubench.github.io:

| Сэмплов | Нагрузка на GPU | Видно в мониторинге |
|---------|-----------------|---------------------|
| 100,000 | Минимальная | Нет |
| 500,000 | Низкая | Нет |
| 1,000,000 | Средняя | Нет |
| 2,000,000 | Заметная | Да |
| 10,000,000 | Высокая | Да (может упасть) |

На современных видеокартах (4090/5090) даже 10M сэмплов не создают видимой нагрузки.

### Как обнаружить WebGPU-проверку на сайте

#### Метод 1: Слабая видеокарта
Используйте маломощную видеокарту (встроенная, 512MB) - любая нагрузка будет заметна в мониторинге.

#### Метод 2: Анализ кода

```javascript
// Искать в исходниках:
navigator.gpu
navigator.webgpu

// View Page Source -> поиск "navigator.gpu"
```

**Проблема:** Код может быть обфусцирован.

---

## Технические детали

### Требования для WebGPU

| Компонент | Требование |
|-----------|------------|
| DirectX | 12 |
| WDDM | 2.3+ |
| Браузер | Chrome 113+, Firefox 121+, Edge 113+ |

### Проверка поддержки в DXDiag

```
dxdiag -> Display -> Driver Model -> WDDM
```

Если WDDM < 2.3 - WebGPU не будет работать нативно.

### Эмуляция WebGPU через реестр

1. Найти свойства видеокарты в реестре
2. Добавить/изменить параметры WDDM
3. Перезагрузить
4. WebGPU станет доступен

**Но:** Бенчмарк всё равно покажет реальную производительность.

### Ресурсы

| Ресурс | Описание |
|--------|----------|
| webgpubench.github.io | Открытый WebGPU бенчмарк |
| chrome://gpu | Информация о GPU в Chrome |
| chrome://flags | Включение/выключение WebGPU |

---

## Ключевые выводы

1. **WebGL мёртв** - Khronos Group прекратили развитие в 2023
2. **WebGPU = полный доступ к GPU** - мощный инструмент для fingerprinting
3. **Проверка наличия WebGPU бесполезна** - легко эмулируется
4. **Бенчмарк = реальный детект** - невозможно подделать производительность
5. **fingerprint.com - ханипот** - не посещать
6. **Для анализа сайтов** - использовать слабую видеокарту

---

## Связь с другими уроками

- **Урок 04:** WebGPU Performance - детальный анализ бенчмарков
- **Урок 05:** WebGL Fingerprint - сравнение технологий
- **Canvas:** Аналогичные методы детекта через производительность

---

*Транскрибировано: 2026-02-08*
*Источник: Курс Вектор Т13 по антифрод-системам*
