# 05. WebGL Fingerprint (Performance Test)

**Автор:** Вектор Т13
**Длительность:** ~25 минут
**Уровень:** Продвинутый
**Тип урока:** Критически важный тест производительности

---

## Краткое содержание

Раскрывается главный секрет антифрод-систем: тест производительности WebGL (FPS). Подмена WebGL Renderer и Hash бесполезна - реальный детект происходит через измерение производительности видеокарты. 43-48 FPS = автоматизированное средство (бот).

---

## Ключевые тезисы

### 1. Что НЕ важно для антифрод-систем

- WebGL Renderer (видеокарта)
- WebGL ImageHash
- Любые подмены через реестр/плагины

**Всё это легко подделать = бесполезно для детекта.**

### 2. Что ВАЖНО для антифрод-систем

| Среда | FPS WebGL |
|-------|-----------|
| Реальный ПК с GPU | 120-140+ |
| VPS (виртуальный сервер) | 43-48 |
| Dedicated сервер | 43-48 |
| VirtualBox/VMware/QEMU | 43-48 |
| 90% антидетект-браузеров | 43-48 |
| Удалённый сервер + GPU | 43-48 (через RDP) |

### 3. Главный вывод

**43-48 FPS = программное ускорение графики = бот/автоматизация = детект.**

---

## Полный конспект

### Мифы о WebGL fingerprinting

#### Что думают пользователи

"Изменю Renderer + ImageHash = обойду антифрод"

#### Реальность

- Renderer меняется через реестр Windows
- ImageHash меняется через плагины
- Можно изменить через редактирование файлов Chrome
- **Антифрод-системы это знают и НЕ полагаются на эти параметры**

### Модификация файлов Chrome

#### Изменение ImageHash

Файл: `libglessv2.dll` (в папке Chrome)
- Содержит константы формирования отпечатка
- Редактируется любым PE-редактором
- Можно изменить любые параметры

#### Изменение Renderer

Файл: `vk_swiftshader.dll` (в папке Chrome)
- Содержит SwiftShader Device
- Можно изменить название видеокарты
- Можно изменить идентификатор (Subzero -> любой)

#### Кросс-браузерность

Модифицированные библиотеки работают в:
- Chrome
- Edge
- Opera
- Любых Chromium-браузерах

**Но:** Эта "фишка" может перестать работать с обновлениями.

### Реальный тест: Performance Benchmark

#### Происхождение

- Впервые использовался на **PayPal**
- Сейчас используется во **всех крупных банках**
- Код: ~180 строк (100 без мусора)
- В интернете информации **ноль**

#### Как работает

1. Запускается WebGL рендеринг
2. Измеряется FPS (кадры в секунду)
3. Сравнивается с заявленной видеокартой
4. Несоответствие = детект

#### Результаты теста

| Среда | FPS | Вердикт |
|-------|-----|---------|
| Реальный ПК (RTX 2080) | 123+ | Легитимный |
| VPS | 43-48 | Бот |
| Dedicated сервер | 43-48 | Бот |
| VirtualBox | 43-48 | Бот |
| VMware | 43-48 | Бот |
| Proxmox | 43-48 | Бот |
| QEMU | 43-48 | Бот |
| Антидетект браузеры (90%) | 43-48 | Бот |
| Даже старые версии VectorT13 | 43-45 | Бот |

### Почему 43-48 FPS?

Это значение соответствует **SwiftShader** - движку программного ускорения графики.

Когда видеокарта не используется реально, браузер переключается на SwiftShader.

### Обнаружение теста на сайтах

#### Через DevTools

1. F12 -> Performance
2. Записать действие (нажатие кнопки)
3. Смотреть время выполнения

| Сайт | Время на действие |
|------|-------------------|
| Обычный сайт | 8-16 мс |
| С WebGL Benchmark | 400-520 мс |

**Если действие занимает 400+ мс - используется тест производительности.**

#### Важные настройки

- Включить: "Third-party resources" (для iframe-тестов)
- Можно добавить анализ памяти

### Что НЕ детектит тест

#### 1. Удалённые сервера с GPU + RADMIN

- RDP включает Microsoft GDI = отключает GPU
- RADMIN не использует Microsoft GDI = GPU работает

**Workaround:**
1. Подключиться через RADMIN
2. Запустить браузер
3. Переподключиться через RDP
4. GPU останется активным

#### 2. EFI Spoofers

- Патчи EFI-прошивки
- Изменяют ID видеокарты до инициализации PCI
- ~20 семейств видеокарт для эмуляции
- Драйверы наследуются от реальной GPU

**Проблемы:**
- Громоздко
- Дорого ($1000/устройство)
- Подходит только для ферм (50-100 устройств)

#### 3. Антидетекты с GPU-туннелем

- Используют реальную видеокарту
- Аппаратное ускорение вместо программного
- Редкие браузеры (~200+ антидетектов, единицы с GPU-туннелем)

**Как проверить свой антидетект:**
Запустить FPS-тест. Низкий FPS = фейковая видеокарта.

#### 4. Антидетект VM с GPU-Boost

- Интерполяция графики на слабых машинах
- Реализовано только в VectorT13 Antidetect v5
- Не работает в других антидетектах (2024 и старше)

### SwiftShader уходит

> "SwiftShader будет недоступен в браузерах Chromium в ближайшее время"

Это означает, что FPS-тест станет ещё более эффективным.

---

## Технические детали

### Файлы Chrome для модификации

| Файл | Назначение |
|------|------------|
| `libglessv2.dll` | WebGL ImageHash |
| `vk_swiftshader.dll` | SwiftShader renderer |

### PE-редактирование

1. Открыть DLL в PE-editor
2. Перейти на вкладку Strings
3. Найти нужный параметр
4. Редактировать HEX
5. Сохранить

### RDP vs RADMIN

| Протокол | Microsoft GDI | GPU работает |
|----------|---------------|--------------|
| RDP | Да | Нет |
| RADMIN | Нет | Да |

### Время выполнения операций

| Операция | Нормальное время |
|----------|------------------|
| Клик по кнопке | 8-16 мс |
| Геолокация API | 8-16 мс |
| WebGL Benchmark | 400-520 мс |

---

## Ключевые выводы

1. **Подмена Renderer/Hash бесполезна** - антифрод это игнорирует
2. **FPS = главный детектор** - 43-48 = бот, 120+ = легитимный
3. **Тест используется везде** - PayPal, банки, криптобиржи
4. **Код простой (100 строк)** - встроить можно куда угодно
5. **RDP убивает GPU** - используйте RADMIN
6. **90% антидетектов фейл** - проверяйте FPS в своём браузере
7. **SwiftShader уходит** - готовьтесь к ужесточению детекта

---

## Метафора урока

> "Даже если мы на Hyundai приклеим эмблему Ferrari, выглядеть он будет как Ferrari. Но ездить как Ferrari никогда не будет."

---

*Транскрибировано: 2026-02-08*
*Источник: Курс Вектор Т13 по антифрод-системам*
