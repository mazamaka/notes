# 09. Canvas - Fake of Fakes

**Автор:** Вектор Т13
**Длительность:** ~31 минута
**Уровень:** Экспертный
**Тип урока:** Разоблачение 10-летнего фейка

---

## Краткое содержание

**Вы никогда не видели реального Canvas fingerprint.** Существует CPU Canvas и GPU Canvas - это разные отпечатки. Антидетект-браузеры меняют только GPU Canvas, а CPU Canvas остаётся статичным. CPU Canvas имеет всего ~400 вариантов на всех Windows-системах. Это позволяет детектить антидетекты.

---

## Ключевые тезисы

### 1. Два типа Canvas

| Тип | Что отрисовывает | Вариативность | Меняют антидетекты |
|-----|------------------|---------------|-------------------|
| **GPU Canvas** | Видеокарта | Высокая | Да |
| **CPU Canvas** | Процессор | ~400 вариантов | Нет* |

*Антидетекты не различают эти типы и ломают логику.

### 2. Canvas Benchmark

| Среда | Время выполнения | Значимость |
|-------|------------------|------------|
| Реальный ПК | 13.8 мс | Норма |
| Виртуальная машина | 18-25 мс | Разница минимальна |

**Вывод:** Canvas benchmark НЕ детектит VM (в отличие от WebGL/Audio).

### 3. Главное открытие

> "После 10 лет лжи, вы наконец приоткрыли завесу реальности."

---

## Полный конспект

### 10 лет фейка

> "Вы множество лет верили в фейк, который распространялся различными людьми. Мною в том числе. Правда должна находиться в небольшом круге людей."

Что все знали:
- Canvas зависит от видеокарты
- Нужно менять хэш
- Желательно не уникальный

**Реальность:** Это работает только против BrowserLeaks.

### Canvas Benchmark - бесполезен для детекта VM

| Эксперимент | Результат |
|-------------|-----------|
| Реальный ПК (64 cores, 128GB RAM) | 13.8 мс |
| Виртуальная машина | 18-25 мс |
| VM с доп. ресурсами | ~14 мс |

**Разница несущественна.** Canvas НЕ подходит для детекта VM/VPS.

WebGL и Audio - работают. Canvas - нет.

### CPU Canvas vs GPU Canvas

#### Эксперимент

1. Виртуальная машина с GPU (NVIDIA)
2. Записать Canvas fingerprint
3. Отключить аппаратное ускорение
4. Проверить Canvas снова

**Результат на BrowserLeaks:** Canvas изменился

**Результат на VectorT13 Checker:**
- GPU Canvas - изменился
- **CPU Canvas - НЕ изменился!**

### Технология SKIA

Chrome/Edge/Opera используют **SKIA** для 2D-рендеринга.

При создании Canvas через `getContext`:
- **С GPU:** Ускоряется видеокартой
- **Без GPU:** Рендерится процессором

#### Что отрисовывается чем

| Операция | GPU | CPU |
|----------|-----|-----|
| Сложная графика | Да | - |
| Текст | - | Да |
| Сглаживание | Да/CPU | Да/CPU |
| Наложение цветов | Да | - |

**Это решает браузерный движок, не вы.**

### Известные типы Canvas

> "Мне лично известно более 30 различных видов Canvas."

BrowserLeaks показывает только один "гибридный" вариант.

### CPU Canvas - ограниченная вариативность

| ОС | Количество CPU Canvas |
|----|-----------------------|
| Windows 10/11 | ~400 штук |

**Почему так мало:**
- CPU рендеринг = математика
- Нет зависимости от GPU
- Intel i5/i7 дают почти одинаковый результат

### Как это используется против антидетектов

#### Google собирает статистику

Экосистема Google знает:
- Все существующие процессоры
- Как они отрисовывают Canvas
- Какие ~400 вариантов CPU Canvas существуют

#### Детект антидетектов

Антидетект-браузеры:
1. Не различают CPU/GPU Canvas
2. Подменяют **оба** отпечатка
3. Создают "уникальный" CPU Canvas

**Результат:** CPU Canvas, которого не существует в природе = детект.

### Эксперимент с VectorT13 Antidetect

1. Запустить VM с FP1
2. Записать Canvas на BrowserLeaks
3. Изменить профиль на FP4
4. Проверить снова

**BrowserLeaks:** Canvas изменился
**VectorT13 Checker:** CPU Canvas остался неизменным

#### Почему это правильно

VectorT13 использует **реальные части NVIDIA драйверов**, не шумы.

Смена видеокарты = смена GPU Canvas
CPU Canvas остаётся стабильным

**Для смены CPU Canvas** нужно сменить процессор в настройках.

### Расширения-блокировщики Canvas

Эксперимент с "Canvas Fingerprint Blocker":

- На BrowserLeaks: работает
- На VectorT13 Checker: меняет CPU Canvas, **GPU остаётся!**

**Причина:** Расширение меняет первый найденный Canvas, не различая типы.

### Три умозаключения

#### 1. VectorT13 работает правильно

Не использует шумы. Изменяет реальные драйвера.
GPU Canvas меняется, CPU Canvas стабилен.

#### 2. Браузерные антидетекты - говно

Подменяют ответы, не понимая технологию.
CPU Canvas становится "уникальным" = детект.

#### 3. Почему антидетекты "не работают"

> "То, что у людей получается работать - случайность, не закономерность. Антидетект работает хорошо, когда 10 из 10 аккаунтов. А если 1 из 10-30 - это чистая случайность."

### Возможности анализа CPU+GPU Canvas

1. Определение реальной ОС
2. Определение реального браузера
3. Определение семейства процессора
4. Детект антидетектов

---

## Технические детали

### Проверка аппаратного ускорения

```
chrome://flags -> Canvas 2D
chrome://gpu -> Canvas: Hardware accelerated
```

### Типы отрисовки

```javascript
// GPU Canvas (ускоренный)
canvas.getContext('2d'); // с включенным GPU

// CPU Canvas (программный)
canvas.getContext('2d', { willReadFrequently: true }); // форсирует CPU
```

### База знаний Google

| Параметр | Значение |
|----------|----------|
| Ежедневные посетители | Сотни миллионов |
| Собранные CPU Canvas | Все ~400 |
| Собранные GPU Canvas | Миллионы |

---

## Ключевые выводы

1. **Canvas benchmark бесполезен** для детекта VM/VPS
2. **Существует CPU Canvas и GPU Canvas** - разные отпечатки
3. **CPU Canvas имеет ~400 вариантов** на всех Windows
4. **Антидетекты не различают типы** - создают несуществующие отпечатки
5. **BrowserLeaks - маркетинг** - показывает только гибридный Canvas
6. **Уникальный CPU Canvas = детект** - его не должно быть уникальным
7. **10 лет все верили в фейк** - включая самого автора

---

## Метафора урока

> "Чекеры сделаны только для одной цели - продавать свои продукты. Мой чекер показывает больше правды, но он тоже показывает так, что мой софт работает великолепно."

---

*Транскрибировано: 2026-02-08*
*Источник: Курс Вектор Т13 по антифрод-системам*
